# EEGeekerzf.github.io
电子GeekerZF的博客

  最近画了一块低速控制板，一个3.3v的ARM，一个通信模块，一个dcdc数字恒流源，一个直流电机驱动，以及各种小器件，有12v，5v，3.3v三种电压，开始的时候没有调试dcdc，各个芯片上的电压纹波都很小，毕竟是线性稳压，但是调试到dcdc时，情况完全不同，板子上的地上叠加了各种开关谐波，各个电压也叠加了谐波，还好我将AGND和DGND，AVCC和DVCC明确分开。测试发现，两侧的纹波完全不是一个量级。
由此，想到了作为一个硬件设计工程师，早就应该考虑而一直畏惧的问题，EMC。
今天读了华为的EMC设计手册 ，总结一下以前一直纠结的部分问题。

两层板和四层板的区别？
  对于一个带着干扰的信号，怎样才能减小他对周围线路的影响呢，最好的方式就是给它创造一个回流路径，而且要让一个回流路径的阻抗小，如果外壳有接地的话，他们就会自然的流入大地，四层板的优势就是：建立一个专属的层，这个层是板上所有信号的最好回流路径。

布局考虑什么？
  首先，不是整齐美观，而是按照信号流向，使得核心器件的布线路径最合理(最短)。其次，要考虑按照不同功能类型划分区域：模拟电路、数字电路、接口电路、时钟电路、电源电路。它们各自又有自己的不同要求。比如：功率电路原理控制电路，最好开孔，远离本板，再如基准源要远离数字信号。

滤波到底要滤什么？  
  两种：信号滤波、电源滤波。电阻、电容、电感、导线，在不同速度是都有完全不同的阻抗 。考虑EMC，我们主要是滤除高频噪声，因此主要是低通滤波器，这里主要用到L，C主要适用于电源的去耦、旁路、储能。  
